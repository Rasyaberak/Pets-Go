local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local OrionLib = loadstring(game:HttpGet("https://raw.githubusercontent.com/Rasyaberak/Menu-Lab/refs/heads/main/Menu%20Lab"))();
local Window = OrionLib:MakeWindow({Name = "Pets Go Hub", HidePremium = false, SaveConfig = true, ConfigFolder = "OrionTest"})

-- Get the player's name dynamically
local playerName = LocalPlayer.Name

-- Main Tab
local MainTab = Window:MakeTab({
    Name = "Main",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

local Section = MainTab:AddSection({
    Name = "Egg Roll"
})

MainTab:AddToggle({
    Name = "Auto Click Roll (No Animations)",
    Default = false,
    Callback = function(isEnabled)
        _G.AutoNoAnim = isEnabled  -- Set _G.AutoNoAnim based on the toggle value

        if isEnabled then  -- If the toggle is set to true
            while _G.AutoNoAnim do
                local replicatedStorage = game:GetService("ReplicatedStorage")
                local network = replicatedStorage:WaitForChild("Network")
                local eggRoll = network:WaitForChild("Eggs_Roll")

                -- Invoke the server for rolling the egg twice
                eggRoll:InvokeServer()
                eggRoll:InvokeServer()

                -- Add a small wait to prevent overwhelming the server
                wait(0.1)  -- Adjust the wait time as needed
            end
        end
    end
})

MainTab:AddToggle({
    Name = "Auto Click Roll (With Animations)",
    Default = false,
    Callback = function(isEnabled)
        _G.AutoWithAnim = isEnabled

        if isEnabled then
            local replicatedStorage = game:GetService("ReplicatedStorage")
            local network = replicatedStorage:WaitForChild("Network")
            local eggRoll = network:WaitForChild("Eggs_Roll")
            local animationComplete = network:WaitForChild("Eggs_AnimationComplete")

            local function onAnimationComplete()
                if _G.AutoWithAnim then
                    eggRoll:InvokeServer()
                end
            end

            animationComplete.OnClientEvent:Connect(onAnimationComplete)

            eggRoll:InvokeServer()
        end
    end
})

-- Safely stop auto clicking when the player leaves the game
game:GetService("Players").PlayerRemoving:Connect(function(player)
    if player == game.Players.LocalPlayer then
        _G.AutoWithAnim = false
        _G.AutoNoAnim = false 
    end
end)

-- Disable everything when the player leaves
game:BindToClose(function()
    _G.AutoWithAnim = false 
    _G.AutoNoAnim = false
end)


OrionLib:Init()
